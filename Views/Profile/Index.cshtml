@{
    ViewData["Title"] = "Profile";
    
    <link href="~/css/Profile.css" rel="stylesheet" />
}
@using EffectiveWebProg.ViewModels;
@model ProfileViewModel;

<div class="profile-container">
    <div class="profile-header">
        <div class="profile-picture">
            @if (Model.user.UserProfilePic == null)
            {
                <img src="~/images/chef.png" alt="Profile Picture">
            } 
            else
            {
                var path = $"~/images/UserProfilePics/{Model.user.UserProfilePic}"; 
                <img src=@path alt = "Profile Picture">
            }
        </div>
        <div class="profile-info">
            <div class="profile-username">
                <h2>@Model.user.UserUsername</h2>
                <form method="get" asp-controller="Profile" asp-action="EditProfile">
                    <button type="submit">Edit Profile</button>
                </form>
            </div>
            <div class="profile-stats">
                <a onclick="">
                    <span><strong>@Model.followingCount</strong> following</span>
                </a>
            </div>
        </div>
    </div>
        <div class="profile-tabs">
        <button class="tab-link active" onclick="openTab(event, 'reservations')">My Reservations</button>
    </div>
    <div id="reservations" class="tab-content" style="display:none;">
        <h3>My Reservations</h3>
        <!-- Add content for My Reservations here -->

         <div class="card mb-4 shadow-sm">
            <div class="card-header">
                <h5 class="card-title">Reservation Details</h5>
            </div>
            <div class="card-body">
                <h6 class="card-subtitle mb-2 text-muted">Reservation ID:
                    @* @Model.RestID *@
                </h6>
                <p class="card-text">
                    <strong>Names:</strong>
                    @* @Model.CustomerName *@
                    <br />
                    <strong>Date:</strong>
                    @* @Model.ReservationDate.ToString("MMMM dd, yyyy") *@
                    <br />
                    <strong>Time:</strong>
                    @* @Model.ReservationTime.ToString("hh:mm tt") *@
                    <br />
                    <strong>Pax:</strong>
                    @* @Model.NumOfGuest *@
                    <br />
                    <strong>Special Requests:</strong>
                    @* @Model.SpecialRequest *@
                </p>
            </div>
            @* <div class="card-footer text-right">
                <a href="@Url.Action("Edit", "Reservations", new { id = Model.ReservationId })"
                    class="btn btn-primary">Edit</a>
                <a href="@Url.Action("Delete", "Reservations", new { id = Model.ReservationId })"
                    class="btn btn-danger">Delete</a>
            </div> *@
        </div>
    </div>
</div>

@section Scripts {
    <script>
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tab-link");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }
    </script>
}